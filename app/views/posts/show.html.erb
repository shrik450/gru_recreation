<div class="container post">
  <div class="row">
    <div class="col">
      <h2><%= @post.title %></h2>
      <span><%= @post.score %> points | <%= @post.author %></span>
      <div class="image-row">
        <img src="<%= @post.url %>">
      </div>
    </div>
  </div>
  <hr />
  <div class="row">
    <div class="col comments-base">
      <h3>Comments</h3>
      <%# Load three levels of comments, which should be enough to save a lot of queries. %>
      <% @post.comments.preload(comments: {comments: :comments}).each do |comment| %>
        <%= render partial: "comment_base", locals: {comment: comment} %>
      <% end %>
    </div>
  </div>
</div>
